# AmityVox Deployment Environment
# Copy to .env and edit before running: docker compose up -d

# ============================================================
# Image Version
# ============================================================
# Pin a specific AmityVox image tag (e.g. v0.5.0). Defaults to "latest".
# AMITYVOX_TAG=latest

# ============================================================
# Instance
# ============================================================
# Short description of your instance (shown on the login page)
AMITYVOX_INSTANCE_DESCRIPTION="A self-hosted communication platform"
# Public domain name for your instance (used for TLS, WebAuthn, federation)
AMITYVOX_INSTANCE_DOMAIN=localhost
# Federation mode: "open" (anyone can federate), "allowlist", or "closed"
AMITYVOX_INSTANCE_FEDERATION_MODE=closed
# Display name shown in the UI and federation metadata
AMITYVOX_INSTANCE_NAME=AmityVox

# ============================================================
# PostgreSQL
# ============================================================
POSTGRES_DB=amityvox
# IMPORTANT: Change this to a strong random password for production
POSTGRES_PASSWORD=amityvox
POSTGRES_USER=amityvox

# ============================================================
# S3 Storage (Garage)
# ============================================================
# After first boot, create a key with: docker exec amityvox-garage /garage key create amityvox-key
# Then set these values from the output.
AMITYVOX_STORAGE_ACCESS_KEY=
AMITYVOX_STORAGE_BUCKET=amityvox
AMITYVOX_STORAGE_SECRET_KEY=
# IMPORTANT: Generate a random 64-char hex string for production:
#   openssl rand -hex 32
GARAGE_RPC_SECRET=please-change-me-to-a-random-64-char-hex-string

# ============================================================
# LiveKit (voice/video)
# ============================================================
# IMPORTANT: Change these to strong random values for production
AMITYVOX_LIVEKIT_PUBLIC_URL=wss://localhost
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=secret

# ============================================================
# Meilisearch (full-text search)
# ============================================================
# Master key for Meilisearch API authentication (generate a random string)
MEILI_MASTER_KEY=

# ============================================================
# Push Notifications (optional)
# ============================================================
# Generate VAPID keys with: npx web-push generate-vapid-keys
AMITYVOX_PUSH_VAPID_CONTACT_EMAIL=
AMITYVOX_PUSH_VAPID_PRIVATE_KEY=
AMITYVOX_PUSH_VAPID_PUBLIC_KEY=

# ============================================================
# Logging
# ============================================================
# Log format: json or text
AMITYVOX_LOGGING_FORMAT=json
# Log level: debug, info, warn, error
AMITYVOX_LOGGING_LEVEL=info

# ============================================================
# Giphy (GIF search â€” optional)
# ============================================================
# Get a free API key at https://developers.giphy.com/dashboard/
AMITYVOX_GIPHY_API_KEY=
AMITYVOX_GIPHY_ENABLED=false

# ============================================================
# Translation (LibreTranslate)
# ============================================================
# Pin the LibreTranslate image version
LIBRETRANSLATE_TAG=v1.8.4
# Comma-separated language codes to load (fewer = faster startup, less RAM)
LT_LOAD_ONLY=en,es,fr,de,it,pt,ru,ja,ko,zh,ar,hi,nl,pl,tr,uk

# ============================================================
# Auth
# ============================================================
# Set to true to require an invite code to register
AMITYVOX_AUTH_INVITE_ONLY=false
# Set to false to disable new user registration
AMITYVOX_AUTH_REGISTRATION_ENABLED=true
# Set to true to require email verification on registration
AMITYVOX_AUTH_REQUIRE_EMAIL=false

# ============================================================
# Media
# ============================================================
# Maximum file upload size (e.g. 50MB, 100MB)
AMITYVOX_MEDIA_MAX_UPLOAD_SIZE=50MB
